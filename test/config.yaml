instances_count: 1
image: "redis:7"
environment_var1: "value1"
environment_var2: "value2"
cpu: 500
memory: 256
# update: {}
  # max_parallel: 1
  # min_healthy_time: "10s"
  # healthy_deadline: "3m"
  # progress_deadline: "10m"
  # auto_revert: false
  # canary: 0
# migrate:
#   max_parallel: 1
#   health_check: "checks"
#   min_healthy_time: "10s"
#   healthy_deadline: "5m"
service:
  provider: "nomad"
  check:
    name: "alive"
    type: "tcp"
    interval: "10s"
    timeout: "2s"
restart:
  attempts: 2
  interval: "30m"
  delay: "15s"
  mode: "fail"
ephemeral_disk:
  sticky: true
  migrate: true
  size: 300
task:
  args:
    - "-bind"
    - "${NOMAD_PORT_http}"
    - "${nomad.datacenter}"
    - "${MY_ENV}"
    - "${meta.foo}"
  bind: ""
  datacenter: ""
  my_env: ""
  meta_foo: ""
  command: "my-command"
  ports: "db"
  volumes:
    - "/path/on/host:/path/in/container"
    - "relative/to/task:/also/in/container"
  auth_soft_fail: true
logs:
  max_files: 10
  max_file_size: 15
templates: []
